<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Text Test</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #1a1a2e;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100vh;
        }
        #controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 8px;
            color: white;
            min-width: 250px;
        }
        .control-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }
        input[type="range"] {
            width: 100%;
        }
        .value-display {
            display: inline-block;
            margin-left: 10px;
            font-weight: bold;
            color: #3498db;
        }
    </style>
</head>
<body>
    <div id="controls">
        <div class="control-group">
            <label>Rotation Y (0-360°): <span class="value-display" id="rotY-value">-34°</span></label>
            <input type="range" id="rotY" min="0" max="360" value="326" step="1">
        </div>
        <div class="control-group">
            <label>Rotation X (-90 to 90°): <span class="value-display" id="rotX-value">-14°</span></label>
            <input type="range" id="rotX" min="-90" max="90" value="-14" step="1">
        </div>
        <div class="control-group">
            <label>Extrusion Depth (1-150): <span class="value-display" id="depth-value">20</span></label>
            <input type="range" id="depth" min="1" max="150" value="20" step="1">
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer, textGroup;
        let extrusionDepth = 20;

        function init() {
            scene = new THREE.Scene();
            
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 0, 60);
            
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x1a1a2e);
            document.body.appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            
            const directionalLight1 = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight1.position.set(5, 10, 7);
            scene.add(directionalLight1);
            
            const directionalLight2 = new THREE.DirectionalLight(0xff6b9d, 0.4);
            directionalLight2.position.set(-5, 5, 3);
            scene.add(directionalLight2);

            textGroup = new THREE.Group();
            buildText();
            
            textGroup.rotation.y = -0.6;
            textGroup.rotation.x = -0.25;
            
            scene.add(textGroup);

            setupControls();

            window.addEventListener('resize', onWindowResize);
            animate();
        }

        function buildText() {
            const text = 'ABCD\nEFGH\nIJKL\nMNOP\nQRST\nUVWX\nYZ01\n2345\n6789';
            const lines = text.split('\n');
            const letterSpacing = 4.5;
            const lineHeight = 6;
            
            lines.forEach((line, lineIndex) => {
                for (let i = 0; i < line.length; i++) {
                    const char = line[i];
                    const x = i * letterSpacing - (line.length * letterSpacing) / 2 + letterSpacing / 2;
                    const y = -lineIndex * lineHeight + (lines.length * lineHeight) / 2 - lineHeight / 2;
                    createLetter(char, x, y, 0);
                }
            });
        }

        function createExtrudedShape(shape, x, y, z, color) {
            const extrudeSettings = {
                depth: extrusionDepth,
                bevelEnabled: true,
                bevelThickness: 0.3,
                bevelSize: 0.15,
                bevelSegments: 3
            };
            
            const geometry = new THREE.ExtrudeGeometry(shape, extrudeSettings);
            geometry.rotateY(Math.PI);
            
            const material = new THREE.MeshStandardMaterial({ 
                color: color,
                metalness: 0.3,
                roughness: 0.4
            });
            
            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(x, y, z);
            textGroup.add(mesh);
        }

        function createLetter(char, x, y, z) {
            const colors = [0xD4789C, 0xD4A95A, 0x6BA3C3, 0xE67E9F, 0xF4B860, 0x5A9BC4];
            const color = colors[char.charCodeAt(0) % colors.length];
            
            const shape = new THREE.Shape();
            
            switch(char) {
                case 'A':
                    shape.moveTo(0.5, 0);
                    shape.lineTo(0, 0);
                    shape.lineTo(1.5, 4);
                    shape.lineTo(2.5, 4);
                    shape.lineTo(4, 0);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(3, 1.5);
                    shape.lineTo(1, 1.5);
                    shape.lineTo(0.5, 0);
                    break;
                case 'B':
                    shape.moveTo(3.5, 0);
                    shape.lineTo(3.5, 1.8);
                    shape.lineTo(2.8, 1.8);
                    shape.lineTo(2.8, 2.2);
                    shape.lineTo(3.5, 2.2);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(0, 4);
                    shape.lineTo(0, 0);
                    break;
                case 'C':
                    shape.moveTo(3.5, 0.8);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 0.8);
                    break;
                case 'D':
                    shape.moveTo(3, 0);
                    shape.lineTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3, 4);
                    shape.lineTo(3, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 0.8);
                    shape.lineTo(3, 0.8);
                    break;
                case 'E':
                    shape.moveTo(3.5, 0);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(0, 4);
                    shape.lineTo(0, 3.2);
                    shape.lineTo(2.5, 3.2);
                    shape.lineTo(2.5, 2.3);
                    shape.lineTo(0.5, 2.3);
                    shape.lineTo(0.5, 1.7);
                    shape.lineTo(2.5, 1.7);
                    shape.lineTo(2.5, 0.8);
                    shape.lineTo(0, 0.8);
                    shape.lineTo(0, 0);
                    shape.lineTo(3.5, 0);
                    break;
                case 'F':
                    shape.moveTo(3.5, 4);
                    shape.lineTo(0, 4);
                    shape.lineTo(0, 0);
                    shape.lineTo(0.8, 0);
                    shape.lineTo(0.8, 1.8);
                    shape.lineTo(3, 1.8);
                    shape.lineTo(3, 2.5);
                    shape.lineTo(0.8, 2.5);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(3.5, 3.2);
                    break;
                case 'G':
                    shape.moveTo(3.5, 0.8);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 0.8);
                    shape.lineTo(3.5, 0.8);
                    shape.lineTo(3.5, 2);
                    shape.lineTo(2, 2);
                    shape.lineTo(2, 1.5);
                    shape.lineTo(2.7, 1.5);
                    shape.lineTo(2.7, 0.8);
                    break;
                case 'H':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(0.8, 2.5);
                    shape.lineTo(2.7, 2.5);
                    shape.lineTo(2.7, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(2.7, 0);
                    shape.lineTo(2.7, 1.8);
                    shape.lineTo(0.8, 1.8);
                    shape.lineTo(0.8, 0);
                    break;
                case 'I':
                    shape.moveTo(0.8, 0);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(1.7, 4);
                    shape.lineTo(1.7, 0);
                    break;
                case 'J':
                    shape.moveTo(0, 0.8);
                    shape.lineTo(0, 0);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(2.7, 4);
                    shape.lineTo(2.7, 0.8);
                    break;
                case 'K':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(0.8, 2.3);
                    shape.lineTo(2.5, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(1.5, 2);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(2.5, 0);
                    shape.lineTo(0.8, 1.7);
                    shape.lineTo(0.8, 0);
                    break;
                case 'L':
                    shape.moveTo(3.5, 0);
                    shape.lineTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(0.8, 0.8);
                    shape.lineTo(3.5, 0.8);
                    break;
                case 'M':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(1.75, 1.5);
                    shape.lineTo(2.7, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(2.7, 0);
                    shape.lineTo(2.7, 2.5);
                    shape.lineTo(1.75, 0);
                    shape.lineTo(0.8, 2.5);
                    shape.lineTo(0.8, 0);
                    break;
                case 'N':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(2.7, 1.5);
                    shape.lineTo(2.7, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(2.7, 0);
                    shape.lineTo(0.8, 2.5);
                    shape.lineTo(0.8, 0);
                    break;
                case 'O':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(2.7, 0);
                    shape.lineTo(2.7, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 0);
                    break;
                case 'P':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 2);
                    shape.lineTo(0.8, 2);
                    shape.lineTo(0.8, 0);
                    break;
                case 'Q':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 1.2);
                    shape.lineTo(4, 0);
                    shape.lineTo(3, 0);
                    shape.lineTo(2.7, 0.8);
                    shape.lineTo(2.7, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 0);
                    break;
                case 'R':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 2);
                    shape.lineTo(4, 0);
                    shape.lineTo(3, 0);
                    shape.lineTo(2.7, 1.5);
                    shape.lineTo(0.8, 1.5);
                    shape.lineTo(0.8, 0);
                    break;
                case 'S':
                    shape.moveTo(3.5, 3.2);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(0, 4);
                    shape.lineTo(0, 2.2);
                    shape.lineTo(2.7, 2.2);
                    shape.lineTo(2.7, 1.8);
                    shape.lineTo(0, 1.8);
                    shape.lineTo(0, 0);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(3.5, 0.8);
                    shape.lineTo(0.8, 0.8);
                    shape.lineTo(0.8, 1.2);
                    shape.lineTo(3.5, 1.2);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 2.8);
                    shape.lineTo(3.5, 2.8);
                    break;
                case 'T':
                    shape.moveTo(0, 4);
                    shape.lineTo(4, 4);
                    shape.lineTo(4, 3);
                    shape.lineTo(2.5, 3);
                    shape.lineTo(2.5, 0);
                    shape.lineTo(1.5, 0);
                    shape.lineTo(1.5, 3);
                    shape.lineTo(0, 3);
                    shape.lineTo(0, 4);
                    break;
                case 'U':
                    shape.moveTo(0, 4);
                    shape.lineTo(0, 0);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(2.7, 4);
                    shape.lineTo(2.7, 0.8);
                    shape.lineTo(0.8, 0.8);
                    shape.lineTo(0.8, 4);
                    break;
                case 'V':
                    shape.moveTo(0, 4);
                    shape.lineTo(0.7, 4);
                    shape.lineTo(1.75, 0.8);
                    shape.lineTo(2.8, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(2, 0);
                    shape.lineTo(1.5, 0);
                    break;
                case 'W':
                    shape.moveTo(0, 4);
                    shape.lineTo(0.6, 4);
                    shape.lineTo(1.1, 1);
                    shape.lineTo(1.75, 4);
                    shape.lineTo(2.4, 4);
                    shape.lineTo(2.9, 1);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(4.1, 4);
                    shape.lineTo(3.2, 0);
                    shape.lineTo(2.4, 0);
                    shape.lineTo(1.75, 2.5);
                    shape.lineTo(1.1, 0);
                    shape.lineTo(0.3, 0);
                    break;
                case 'X':
                    shape.moveTo(0, 0);
                    shape.lineTo(0.7, 0);
                    shape.lineTo(2, 1.5);
                    shape.lineTo(3.3, 0);
                    shape.lineTo(4, 0);
                    shape.lineTo(2.3, 2);
                    shape.lineTo(4, 4);
                    shape.lineTo(3.3, 4);
                    shape.lineTo(2, 2.5);
                    shape.lineTo(0.7, 4);
                    shape.lineTo(0, 4);
                    shape.lineTo(1.7, 2);
                    shape.lineTo(0, 0);
                    break;
                case 'Y':
                    shape.moveTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(1.75, 2.5);
                    shape.lineTo(2.7, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(2.2, 1.8);
                    shape.lineTo(2.2, 0);
                    shape.lineTo(1.3, 0);
                    shape.lineTo(1.3, 1.8);
                    break;
                case 'Z':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 0.8);
                    shape.lineTo(2.5, 3.2);
                    shape.lineTo(0, 3.2);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(1, 0.8);
                    shape.lineTo(3.5, 0.8);
                    shape.lineTo(3.5, 0);
                    break;
                case '0':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(2.7, 0);
                    shape.lineTo(2.7, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 0);
                    break;
                case '1':
                    shape.moveTo(1.3, 0);
                    shape.lineTo(1.3, 3.2);
                    shape.lineTo(0.5, 2.8);
                    shape.lineTo(0.5, 4);
                    shape.lineTo(2.2, 4);
                    shape.lineTo(2.2, 0);
                    break;
                case '2':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 0.8);
                    shape.lineTo(2.7, 3.2);
                    shape.lineTo(0, 3.2);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(0.8, 0.8);
                    shape.lineTo(3.5, 0.8);
                    shape.lineTo(3.5, 0);
                    break;
                case '3':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 0.8);
                    shape.lineTo(2.7, 0.8);
                    shape.lineTo(2.7, 1.7);
                    shape.lineTo(0.5, 1.7);
                    shape.lineTo(0.5, 2.3);
                    shape.lineTo(2.7, 2.3);
                    shape.lineTo(2.7, 3.2);
                    shape.lineTo(0, 3.2);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    break;
                case '4':
                    shape.moveTo(2.5, 0);
                    shape.lineTo(2.5, 1.5);
                    shape.lineTo(0, 1.5);
                    shape.lineTo(0, 4);
                    shape.lineTo(0.8, 4);
                    shape.lineTo(0.8, 2.3);
                    shape.lineTo(2.5, 2.3);
                    shape.lineTo(2.5, 4);
                    shape.lineTo(3.3, 4);
                    shape.lineTo(3.3, 0);
                    break;
                case '5':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 0.8);
                    shape.lineTo(2.7, 0.8);
                    shape.lineTo(2.7, 1.8);
                    shape.lineTo(0, 1.8);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 2.5);
                    shape.lineTo(3.5, 2.5);
                    shape.lineTo(3.5, 0);
                    break;
                case '6':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(0.8, 3.2);
                    shape.lineTo(0.8, 2);
                    shape.lineTo(3.5, 2);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(0.8, 0);
                    shape.lineTo(0.8, 1.2);
                    shape.lineTo(2.7, 1.2);
                    shape.lineTo(2.7, 0.8);
                    break;
                case '7':
                    shape.moveTo(0, 4);
                    shape.lineTo(0, 3.2);
                    shape.lineTo(2.5, 0);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(1, 3.2);
                    shape.lineTo(3.5, 3.2);
                    shape.lineTo(3.5, 4);
                    break;
                case '8':
                    shape.moveTo(0, 0);
                    shape.lineTo(0, 1.7);
                    shape.lineTo(0.8, 1.7);
                    shape.lineTo(0.8, 0);
                    break;
                    const shape2 = new THREE.Shape();
                    shape2.moveTo(0, 2.3);
                    shape2.lineTo(0, 4);
                    shape2.lineTo(3.5, 4);
                    shape2.lineTo(3.5, 2.3);
                    shape2.lineTo(2.7, 2.3);
                    shape2.lineTo(2.7, 3.2);
                    shape2.lineTo(0.8, 3.2);
                    shape2.lineTo(0.8, 2.3);
                    createExtrudedShape(shape2, x, y, z, color);
                    const shape3 = new THREE.Shape();
                    shape3.moveTo(2.7, 0);
                    shape3.lineTo(2.7, 1.7);
                    shape3.lineTo(3.5, 1.7);
                    shape3.lineTo(3.5, 0);
                    createExtrudedShape(shape3, x, y, z, color);
                    break;
                case '9':
                    shape.moveTo(0, 2);
                    shape.lineTo(0, 4);
                    shape.lineTo(3.5, 4);
                    shape.lineTo(3.5, 0);
                    shape.lineTo(0, 0);
                    shape.lineTo(0, 0.8);
                    shape.lineTo(2.7, 0.8);
                    shape.lineTo(2.7, 2);
                    shape.lineTo(0.8, 2);
                    shape.lineTo(0.8, 2.8);
                    shape.lineTo(2.7, 2.8);
                    shape.lineTo(2.7, 3.2);
                    shape.lineTo(0.8, 3.2);
                    break;
                default:
                    return;
            }
            
            createExtrudedShape(shape, x, y, z, color);
        }

        function setupControls() {
            const rotYSlider = document.getElementById('rotY');
            const rotXSlider = document.getElementById('rotX');
            const depthSlider = document.getElementById('depth');
            const rotYValue = document.getElementById('rotY-value');
            const rotXValue = document.getElementById('rotX-value');
            const depthValue = document.getElementById('depth-value');

            rotYSlider.addEventListener('input', function() {
                const degrees = parseInt(this.value);
                textGroup.rotation.y = degrees * Math.PI / 180;
                rotYValue.textContent = degrees + '°';
            });

            rotXSlider.addEventListener('input', function() {
                const degrees = parseInt(this.value);
                textGroup.rotation.x = degrees * Math.PI / 180;
                rotXValue.textContent = degrees + '°';
            });

            depthSlider.addEventListener('input', function() {
                extrusionDepth = parseInt(this.value);
                depthValue.textContent = extrusionDepth;
                
                while(textGroup.children.length > 0) {
                    textGroup.remove(textGroup.children[0]);
                }
                
                buildText();
            });
        }

        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        init();
    </script>
</body>
</html>
